import{_ as s,o as e,c as a,M as o}from"./chunks/framework.37cd2f1b.js";const u=JSON.parse('{"title":"Configuration File","description":"","frontmatter":{},"headers":[],"relativePath":"configuration/file.md","filePath":"configuration/file.md","lastUpdated":1655402809000}'),l={name:"configuration/file.md"},n=o(`<h1 id="configuration-file" tabindex="-1">Configuration File <a class="header-anchor" href="#configuration-file" aria-label="Permalink to &quot;Configuration File&quot;">​</a></h1><p>Taplo supports configuration via file, unsurprisingly it uses the TOML format.</p><p>By default, every tool looks for one in the working directory or the root of the workspace by the following names (in precedence order):</p><ul><li><code>.taplo.toml</code></li><li><code>taplo.toml</code></li></ul><h2 id="include" tabindex="-1">Include <a class="header-anchor" href="#include" aria-label="Permalink to &quot;Include&quot;">​</a></h2><p>The <code>include</code> property is an array of <a href="https://en.wikipedia.org/wiki/Glob_(programming)" target="_blank" rel="noreferrer">glob</a> path strings that are relative to the working directory (or root of the workspace), the matched files are included in the operations by the tools unless explicitly overwritten. The pattern supports globstars (<code>**</code>) for recursive search.</p><p>If this property is omitted, <code>TOML</code> files will be searched in the entire child directory tree from the root.</p><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>If <code>include</code> is present but empty, <strong>no files will be included</strong>.</p></div><div class="language-toml"><button title="Copy Code" class="copy"></button><span class="lang">toml</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#BABED8;">include </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Cargo.toml</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">some_directory/**/*.toml</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">]</span></span></code></pre></div><h2 id="exclude" tabindex="-1">Exclude <a class="header-anchor" href="#exclude" aria-label="Permalink to &quot;Exclude&quot;">​</a></h2><p>The <code>exclude</code> property has the same semantics as <code>include</code> and takes precedence over it.</p><p>The following will exclude <code>Cargo.toml</code> from the includes written above, so files matching <code>some_directory/**/*.toml</code> will be included only.</p><div class="language-toml"><button title="Copy Code" class="copy"></button><span class="lang">toml</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#BABED8;">exclude </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Cargo.toml</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">]</span></span></code></pre></div><h2 id="formatting-options" tabindex="-1">Formatting Options <a class="header-anchor" href="#formatting-options" aria-label="Permalink to &quot;Formatting Options&quot;">​</a></h2><p>The <code>formatting</code> table contains optional <a href="./formatter-options.html">formatting options</a> for the formatter:</p><div class="language-toml"><button title="Copy Code" class="copy"></button><span class="lang">toml</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">[</span><span style="color:#FFCB6B;">formatting</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#BABED8;">align_entries </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#FF9CAC;">false</span></span></code></pre></div><h2 id="schema" tabindex="-1">Schema <a class="header-anchor" href="#schema" aria-label="Permalink to &quot;Schema&quot;">​</a></h2><p>The <code>schema</code> table consists of only two keys:</p><ul><li><code>path</code>: the path of the schema, this can be either path to a local file or an URL with the schemes <code>taplo</code>, <code>http</code> or <code>https</code>. (<code>file</code> scheme is also accepted, it is the same as specifying a local path)</li><li><code>enabled</code>: whether to enable the schema or not (<code>true</code> if omitted).</li></ul><p>An example:</p><div class="language-toml"><button title="Copy Code" class="copy"></button><span class="lang">toml</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">[</span><span style="color:#FFCB6B;">schema</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#BABED8;">path </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">./path/to/schema.json</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#BABED8;">enabled </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#FF9CAC;">true</span></span></code></pre></div><p>Or a configuration that uses a built-in schema:</p><div class="language-toml"><button title="Copy Code" class="copy"></button><span class="lang">toml</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">[</span><span style="color:#FFCB6B;">schema</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#BABED8;">path </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">taplo://taplo.toml</span><span style="color:#89DDFF;">&quot;</span></span></code></pre></div><p>Or a remote one:</p><div class="language-toml"><button title="Copy Code" class="copy"></button><span class="lang">toml</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">[</span><span style="color:#FFCB6B;">schema</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#BABED8;">path </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">https://example.com/my_schema.json</span><span style="color:#89DDFF;">&quot;</span></span></code></pre></div><h2 id="rules" tabindex="-1">Rules <a class="header-anchor" href="#rules" aria-label="Permalink to &quot;Rules&quot;">​</a></h2><p>The <code>rule</code> array of tables consist of rules that overwrite the above configuration based on some conditions. Thus it has the same <code>formatting</code> and <code>schema</code> settings, and the <code>include</code> and <code>exclude</code> with the same semantics as their <a href="#include">global variants</a>, however this time they are used to determine whether the rule applies.</p><p>Additionally, <code>keys</code> of a rule is an array of dotted keys that scope the rule to a specific part within a single document. The keys also support glob patterns.</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>In case of overlapping rules, the last defined rule always takes precedence.</p></div><p>Let&#39;s say we want to sort our <code>Cargo</code> dependencies, but nothing else, here is how we would do that:</p><div class="language-toml"><button title="Copy Code" class="copy"></button><span class="lang">toml</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">[</span><span style="color:#FFCB6B;">formatting</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#BABED8;">reorder_keys </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#FF9CAC;">false</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">[[</span><span style="color:#FFCB6B;">rule</span><span style="color:#89DDFF;">]]</span></span>
<span class="line"><span style="color:#BABED8;">include </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">**/Cargo.toml</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#BABED8;">keys </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">dependencies</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#FFCB6B;">rule</span><span style="color:#BABED8;">.</span><span style="color:#FFCB6B;">formatting</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#BABED8;">reorder_keys </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#FF9CAC;">true</span></span></code></pre></div>`,31),t=[n];function p(c,r,i,d,h,y){return e(),a("div",null,t)}const F=s(l,[["render",p]]);export{u as __pageData,F as default};
